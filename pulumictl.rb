# This file was generated by GoReleaser. DO NOT EDIT.
class Pulumictl < Formula
  desc "A swiss army knife for Pulumi development"
  homepage "https://pulumi.io"
  version "0.0.1"
  bottle :unneeded

  if OS.mac?
    url "https://github.com/pulumi/pulumictl/releases/download/v0.0.1/pulumictl-v0.0.1-darwin-amd64.tar.gz"
    sha256 "cdc571fec19cdc4a292f284304160cac2a05c6e68ca03db4f442164e831449f9"
  elsif OS.linux?
    if Hardware::CPU.intel?
      url "https://github.com/pulumi/pulumictl/releases/download/v0.0.1/pulumictl-v0.0.1-linux-amd64.tar.gz"
      sha256 "f30601d745d376c067ce79e6551dedbd6aec0d5e3d6459adfdf723eb35e4c550"
    end
  end
  
  head do
    url "https://github.com/pulumi/pulumictl"
    depends_on "go@1.13" if build.head?
  end

  def install
    if build.head?
      ENV["GOPATH"] = buildpath
      ENV["GO111MODULE"] = "on"
      dir = buildpath/"src/github.com/pulumi/pulumictl"
      dir.install buildpath.children
      system "go", "build", "-ldflags=-X github.com/pulumi/pulumictl/pkg/version.Version=0.0.1" "#{dir}/cmd/pulumictl/main.go"
      bin.install Dir["#{buildpath}/pulumictl"]
    end
    if build.stable?
      bin.install "pulumictl"
    end
  end
end
