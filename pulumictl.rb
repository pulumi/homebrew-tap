# This file was generated by GoReleaser. DO NOT EDIT.
class Pulumictl < Formula
  desc "A swiss army knife for Pulumi development"
  homepage "https://pulumi.io"
  version "0.0.1"
  bottle :unneeded

  if OS.mac?
    url "https://github.com/pulumi/pulumictl/releases/download/v0.0.1/pulumictl-v0.0.1-darwin-amd64.tar.gz"
    sha256 "bf805ca919d5bc9f4318082c8dc87ddb146346dda45aa91ae168b804eee10ca8"
  elsif OS.linux?
    if Hardware::CPU.intel?
      url "https://github.com/pulumi/pulumictl/releases/download/v0.0.1/pulumictl-v0.0.1-linux-amd64.tar.gz"
      sha256 "c6a8ca9a4ef5a0c1670c193d5dacecffa2b418edc46e089483b3a50eb24287e6"
    end
  end
  
  head do
    url "https://github.com/pulumi/pulumictl"
    depends_on "go@1.13" if build.head?
  end

  def install
    if build.head?
      ENV["GOPATH"] = buildpath
      ENV["GO111MODULE"] = "on"
      dir = buildpath/"src/github.com/pulumi/pulumictl"
      dir.install buildpath.children
      system "go", "build", "-ldflags=-X github.com/pulumi/pulumictl/pkg/version.Version=0.0.1"
      bin.install Dir["#{buildpath}/pulumictl"]
    end
    if build.stable?
      bin.install "pulumictl"
    end
  end
end
